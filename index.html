<!DOCTYPE html>
<html>
    <head>
        <title>Time table</title>
        <link rel="stylesheet" href="/scripts/style.css">
    </head>
    <body>
            <h1 align="center">My Schedule</h1>

                <table border="1">
                    <tr>
                        <th>Day</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                </tr>
                <tr>
                    <td><input type="text" name="To do"/><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                    <td> <input type="text" name="To do" /><br /></td>
                    <td> <input type="text" name="To do" /><br /></td>
                    <td> <input type="text" name="To do" /><br /></td>
                    <td> <input type="text" name="To do" /><br /></td>
                    <td> <input type="text" name="To do" /><br /></td>
                </tr>
                <tr>
                    <td><input type="text" name="To do" /><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                    <td><input type="text" name="To do" /><br /></td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
                <tr>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                    <td> <input type="text" name="To do" /><br /> </td>
                </tr>
            </table>
            <button type="submit" id="save_btn"  >Save Changes</button>

        <script >
const ALL_ELEMS = document.getElementsByTagName("input");

const CACHE_NAME = "time_table_data";

document.getElementById("save_btn").addEventListener("click", () => {
	let allData = [];

	for (let elem_num = 0; elem_num < ALL_ELEMS.length; elem_num++) {
		const element = ALL_ELEMS.item(elem_num);

		allData.push(element.value);
	}

	localStorage.setItem(CACHE_NAME, JSON.stringify(allData));

});

window.addEventListener("load", ()=> {

    if (localStorage.getItem("visited") == null ) {
        alert(" Make your changes then press the cave changes button on top left. your data will be available even if page reloads,but YOU SHOULDN'T CLEAR THE CACHE");
        localStorage.setItem("visited", "true")
    }


})


window.addEventListener("load", () => {

    let allData = JSON.parse(localStorage.getItem(CACHE_NAME))


    for (let elem_num = 0; elem_num < ALL_ELEMS.length; elem_num++) {
			const element = ALL_ELEMS.item(elem_num);

        element.value = allData[elem_num];
		}

})
</script>
    </body>
    </html>
